<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #sidenav mode="side" opened>
    <mat-nav-list>
      <mat-list-item *ngFor="let title of titleData" (click)="selectTitle(title)" [class.selected]="title === selectedTitle">
        {{ title.title }}
      </mat-list-item>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="container">
      <div class="movie-list">
        <div class="row">
          <ng-container *ngIf="filteredMovies && filteredMovies.length === 0; else movieList">
            <div class="col-12">
              <p>No movies found.</p>
            </div>
          </ng-container>
          <ng-template #movieList>
            <div class="col-lg-4 col-md-6 col-sm-12" *ngFor="let movie of filteredMovies; let i = index">
              <div class="movie-card-container">
                <mat-card class="example-card">
                  <mat-card-header>
                    <img mat-card-avatar class="example-header-image" [src]="movie.poster_path" alt="{{movie.title}}">
                    <mat-card-title class="movie-title" [attr.title]="movie?.title">
                      <a [routerLink]="['/movie', movie._id]" class="btn-clr">{{ movie.title }}</a></mat-card-title>
                    <mat-card-subtitle class="movie-title" [attr.title]="movie?.title">{{ movie.release_date }}</mat-card-subtitle>
                  </mat-card-header>
                  <img mat-card-image class="card-image" [src]="movie.poster_path" alt="{{movie.title}}">
                  <mat-card-content>
                    <p class="movie-title" [attr.title]="movie?.title">{{ movie.title }}</p>
                  </mat-card-content>
                  <mat-card-actions>
                    <button mat-button class="btn-clr" *ngIf="!isFavorite(movie)" (click)="toggleFavorite(movie)">Favorite</button>
                    <button mat-button class="btn-clr" *ngIf="isFavorite(movie)" (click)="removeFavorite(movie)">Remove Favorite</button>
                  </mat-card-actions>
                </mat-card>
              </div>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
